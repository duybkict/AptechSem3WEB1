@using MvcAssignment.Models
@model List<ShoppingCartItem>

<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
	<h3 id="modalShoppingCartHeader">Shopping Cart</h3>
</div>
<div class="modal-body">

	@if (Model.Count > 0) {
		<table class="table table-bordered">
			<tbody>
				@foreach (ShoppingCartItem item in @Model) { 
					<tr class="shoppingCartItem">
						<td>
							<img src="~/Resources/products/@(item.alias).jpg" class="pull-left"/>
							<span>@item.name</span>
							<br />
							<button class="btn btn-link" onclick="removeFromCart(@item.id)"
							style="margin-left:-15px">
								Remove</button>
						</td>
						<td style="width: 15%; text-align: center;">
							<span class="product-price">@String.Format("{0:0.000}", item.price) $</span><br />

							@if (item.old_price > 0 && item.old_price > item.price) {
								<span class="old-product-price">@String.Format("{0:0.000}", item.old_price) $</span>
							}

							@{var saleRate = Convert.ToInt32((item.old_price - item.price) / item.old_price * 100);}

							@if (saleRate > 0) {
								<span class="product-discount-rate">@saleRate % Off</span>
							}
						</td>
						<td style="width: 10%; text-align: center;">
							@item.quantity
						</td>
						<td style="width: 20%; text-align: right;">
							<span class="product-price">@String.Format("{0:0.000}", item.price * item.quantity) $</span>
						</td>
					</tr>
				}
			</tbody>
		</table>
 } else {
		<center style="margin-top: 45px;">You have no item in your shopping cart!</center>
 }

</div>
<div class="modal-footer">
	<button class="btn btn-link pull-left" data-dismiss="modal" aria-hidden="true">&lt;&lt; Go Back</button>
	<button class="btn-large btn-red">Continue to Check Out</button>
</div>
